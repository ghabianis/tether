#+title: Todo

* TODO Now [3/9]
** DONE don't render spaces/tabs/newlines (any empty height or width glyphs)
** DONE fix backspace on newline
** DONE Vim [0/0]
*** DONE support =Key= and not just chars (change CharParser to KeyParser)
*** DONE support delete/change/yank + movement
*** DONE support w/W/b/B/e/E [0/0]
**** DONE w/W
**** DONE b/B
**** DONE e/E
** TODO LIGATURES!
** TODO bug: delete/change range broken
cause I added `self.len -= node.data.items.len;` to Rope.remove_node() and this fucks up Rope.remove_text() because it is already doing the calculation
need to make separate functions: one that subtracts len and one that doesn't
** TODO bug: paste broken
try pasting this into empty editor:
#+begin_src zig
fn fuck(self: *Self) void {
    _ = self;
}
#+end_src
** TODO bug: word breaking with punctuation detection for w/W/e/E/b/B
Word breaking rules are fucked.

Word can break in 3 cases:
- when whitespace is encountered
- when punctuation is encountered IF the word is comprised of NON-punctuation characters
- whenn non-punctuation is encountered IF the word is comprised of punctuation characters

This means there are two types of words, those comprised of punctuation characters, and those that dont!

For example:
#+begin_src
fuck+++yay!
#+end_src
with the cursor on the first =+=, pressing =w= should bring the cursor the first =y=. instead it goes to the next =+=.

Another case
#+begin_src zig
fn fuck(self: *Self) void {

}
#+end_src
With cursor on =k=, pressing =E= should go to =(= but instead goes to end of =self=.

** TODO moving up/down/creating lines preserves word column when possible
example:
#+begin_src zig
pub fn start_of_line(self: *Self) void {
    self.cursor.col = 0;
    self.draw_text = true;
}
#+end_src

if cursor is at =s= in =start_of_line= (index 7)

when going down, cursor will try to be on index 7 if possible, if not then the greatest char possible
** TODO bug: semicolon texture fucked up
* TODO Later [0/4]
** TODO Egui for debugging?
** TODO create deinit function for renderer/editor
** TODO curves svg etc
* Archive
** DONE Fix cursor [0/0]
*** DONE not in front of text
*** DONE newline fucks it up
** DONE next line is not starting at the right Y
we use =max_glyph_h= as the Y advance
but this is not correct
it needs to take into account glyphs that have their y origin lower
for example in the glyph 'y'
i think this might be the 'descent' font metric
